<html>
    <head>
		<script language="javascript" src="../lib/jquery/jquery.min.js"></script>
		<script language="javascript" src="../lib/backbone/underscore.min.js"></script>
		<script language="javascript" src="../lib/backbone/backbone.min.js"></script>
        <script language="javascript" src="../lib/handlebars/handlebars-1.0.0.beta.6.js"></script>
        <script language="javascript" src="../lib/stash/stash.min.js"></script>
		<!-- App Scripts -->
		<script src='app.js'></script>
		<script src='cache/cache.js'></script>
		<script src='template/template.js'></script>
		<script src='sugarfieldmanager/sugarfieldmanager.js'></script>
		<script src='../lib/sugarapi/sugarapi.js'></script>
		<script src="events/events.js"></script>
		<script src='context/context.js'></script>
		<script src='controller/controller.js'></script>
		<script src='controller/router.js'></script>
		<script src='metadata/metadata-manager.js'></script>
		<script src='logger.js'></script>
		<script src='config.js'></script>
		<script src='data/data-manager.js'></script>
		<script src='data/bean.js'></script>
		<script src='data/bean-collection.js'></script>
		<script src='data/validation.js'></script>
		<script src='layout/layout.js'></script>
		<!--SUGAR REST interface fakeserver + data-->
		<script language="javascript" src="../tests/fixtures/sugarFields.js"></script>
		<script language="javascript" src="../tests/fixtures/metadata.js"></script>
		<script language="javascript" src="../tests/fixtures/templates.js"></script>
		<script language="javascript" src="../lib/sinon/sinon.min.js"></script>
		<script language="javascript" src="../lib/sugarapi/demoServerData.js"></script>
		<script language="javascript" src="../lib/sugarapi/demoRestServer.js"></script>

		<link rel="stylesheet" href="../lib/twitterbootstrap/bootstrap/css/bootstrap.css"/>
		<link rel="stylesheet" href="../lib/twitterbootstrap/bootstrap/css/bootstrap-responsive.css"/>
		<script src="../lib/twitterbootstrap/bootstrap/js/bootstrap.js"></script>
		
		<style>
			.view {
			/* border: 1px solid grey; */
				padding: 5px;
				margin: 5px;
			}
			.layout {
				/*border: 2px solid #000000;*/
				padding: 5px;
				margin: 5px;
			}
			.control-label {
				font-weight: bold;
				float:left;
				margin-right: 5px;
				margin-bottom: 0px;
				color:grey;
			}
			.label {
				font-weight: bold;
				float:left;
				margin: 0px;
			}
			.panel {
				padding: 5px;
				margin: 5px;
				/* border: 1px solid grey; */
			}
			.editView.panel h4 {
				/* border-bottom: 1px solid black; */
				margin-bottom: 5px;
			}
			.layout.columns > table > tbody > tr > td {
				border : 1px solid red;
				vertical-align:top;
			}
            body {
                    padding-top: 60px;
                    padding-bottom: 40px;
                background-image:url('../lib/twitterbootstrap/bootstrap/img/bgnoise_lg.png');
                background-repeat:repeat;
                  }
            .brand:hover{
                color: #FFCB36;
            }
            .navbar .nav > li > a:hover {
              color: #FFCB36;
              text-decoration: none;
              background-color: #222222;
              background-color: rgba(0, 0, 0, 0.5);
            }
		</style>

    </head>
    <body>
    <div class="navbar navbar-fixed-top">
          <div class="navbar-inner">
            <div class="container-fluid">
              <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </a>
              <a class="brand" href="#">Sidecar</a>
              <div class="nav-collapse">
                <ul class="nav">
                  <li><a href="#Contacts/list">Browse</a></li>
                    <li><a href="#Contacts/create">Create</a></li>
                </ul>
                  <p class="navbar-text pull-right"></p>
              </div><!--/.nav-collapse -->
            </div>
          </div>
        </div>
    	<div>
			<div id="view" style=""></div>
			<div id="sidecar" style=""></div>
			<div id="layout" style=""></div>
		</div>
    	<div>
			<div id="view" style=""></div>
			<div id="sidecar" style=""></div>
			<div id="layout" style=""></div>
		</div>

		<script language="javascript">
			var syncResult, view, layout, html;
			//Fake template manager
			SUGAR.App.template.load(fixtures.templates);
			//Fake a field list
            SUGAR.App.metadata.set({sugarFields:sugarFieldsFixtures.fieldsData});
			var i = SUGAR.Api.getInstance();
			i.debug = true;

			var App = SUGAR.App.init({el: "#sidecar"});
			//Initialize the data model
			App.dataManager.declareModels(fixtures.metadata);
			App.metadata.set(fixtures.metadata);

			//Need a sample Bean
			this.collection = App.dataManager.fetchBeans('Contacts',{});
			this.bean = this.collection.models[0];

			App.controller.data = {"collection" : this.collection, "model" : this.bean};

			App.controller.start();

			/*
			var view = App.layout.get({
				view:"listView"
			});
			$("#view").append(view.el);
			view.render();

			var layout = App.layout.get({
				layout: "detailplus"
				//view:"detailView"
			});
			$("#layout").append(layout.el);
			layout.render();




			var sublayout = App.layout.get({
				context : context,
				layout: "sublayout"
				//view:"detailView"
			});
			$("#layout").append(sublayout.el);
			sublayout.render();
			*/
		</script>
    </body>
</html>
<soda>
	<!--
		Actions:
			1. Log in as a non-admin user
			2. Go to My Account > Edit
			3. Change the 'Export Delimiter' from ',' to another character (e.g. &)
			4. Click 'Save' and observe the 'Export Delimiter' shows the new value for the user.
			5. Log in as an admin user
			6. Go to Admin > User Management and select the user you logged in as on step 1.
		Result:
			The 'Export Delimiter' shows the user defined value

	-->

	<puts text="Test: Admin_10301.xml starting." />

	<browser url="{@global.url}" />

	<!-- log out from "admin" user session... -->
	<link text="Log Out" required="false" timeout="2" />
	<browser assert="Please enter your user name and password" />

	<!-- login to "qauser" user session, created in lib... -->
	<textfield id="user_name" set="qauser" />
	<textfield id="user_password" set="QAuser1" />
	<button id="login_button" />

   <!-- Match a new user login or an existing user login, but not a failed login. -->
	<browser assert="/Welcome(, | to Sugar!)/" />

	<!--  change export delim as end-user -->
	<link text="qauser" />
	<link id="tab4" />
	<textfield name="export_delimiter" assert="," />
	<textfield name="export_delimiter" set="#" />
	<button id="Save" />

	<!-- switch back to admin -->
	<script file="{@global.scriptsdir}/modules/lib/logout.xml" />
	<script file="{@global.scriptsdir}/modules/lib/login.xml" />

	<!-- edit formerly created "qasuer" user -->
	<link text="Admin" />
	<link text="User Management" />
	<wait timeout="3" />
	<link text="qauser" />

	<!-- verify visibility of # as delim, revert to comma for future use -->
	<button id="edit_button" />
	<link id="tab4" />
	<textfield name="export_delimiter" assert="#" />
	<textfield name="export_delimiter" set="," />
	<button id="Save" />
	
	<puts text="Test: Admin_10301.xml finished." />
</soda>

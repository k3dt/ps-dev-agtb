<soda>
    <puts text='----------------Contract_1699: Create Document_Verify that creating a document can be canceled for Contract.------------------'/>

	<timestamp/>
    <!--Create a contract with filling all the fields-->
    <script file='{@global.scriptsdir}/modules/lib/Contract_Create_Lib.xml'/>

	<!--Search the contract record in list view-->
    <link id='moduleTab_Contracts'/>
    <browser assert="Contracts"/>
    <textfield id='name_basic' set='{@Contract_Create_Lib}'/> 
    <button id="search_form_submit"/>
    <table class='list view'>
        <link text='{@Contract_Create_Lib}'/>
    </table>
	<browser assert='{@Contract_Create_Lib}'/>

	<form id='formcontracts_documents'>
		<button name='Documents_create_button'/>
	</form>

	<!-- create a document in sub panel-->
	 <csv file='{@global.scriptsdir}/modules/lib/Document_Create_Lib.csv' var='Doc_New_Record'> 
	 <form id='EditView'>
            <timestamp/>
            <textfield name='document_name' set='{@Doc_New_Record.document_name} {@user.name} {@stamp}'/> 
            <filefield id="filename_file" set='scripts\SugarCRM\Modules\Lib\{@Doc_New_Record.attach_path}'/>
            <textfield name='revision' set='{@Doc_New_Record.revision}'/> 
            <select id='category_id' set='{@Doc_New_Record.category}'/>
            <select id='template_type' set='{@Doc_New_Record.template_type}'/>
            <select id='subcategory_id' set='{@Doc_New_Record.subcategory}'/>
            <select id='status_id' set='{@Doc_New_Record.status_id}'/>
            <textfield name='active_date' set='{@Doc_New_Record.active_date}'/>
            <textfield name='exp_date' set='{@Doc_New_Record.exp_date}'/>         
            <textfield name='description' set='{@Doc_New_Record.description}'/>         
            <button value="Cancel" alert="true" />  <!-- bug 39160 -->
    </form>
	</csv>
	<browser assert='{@Contract_Create_Lib}'/>
	<div id='list_subpanel_contract_documents'>
		<link text='{@Doc_New_Record.document_name} {@user.name} {@stamp}' exist='false'/>
		<span class='pageNumbers' assert='(0 - 0 of 0)'/>
	</div>

	<!--Delete the records-->
	<script file='{@global.scriptsdir}/modules/lib/Contract_Delete_Lib.xml'/>
	<script file='{@global.scriptsdir}/modules/lib/Account_Delete_Lib.xml'/>
	<script file='{@global.scriptsdir}/modules/lib/ContractType_Delete_Lib.xml'/>
	<!--<script file='{@global.scriptsdir}/modules/lib/Opp_Delete_Lib.xml'/>-->

	<puts text='-------------------Contract_1699: finished-------------------'/>

</soda>

<soda>
    <puts text='----------------Contract_1665:Edit Contract_Verify that the selected contract can be edited when editing all fields.------------------'/>

	<timestamp/>
    <!--Create a contract with filling all the fields-->
    <script file='{@global.scriptsdir}/modules/lib/Contract_Create_Lib.xml'/>

	<!--Search the contract record in list view-->
    <link id='moduleTab_Contracts'/>
    <browser assert="Contracts"/>
    <textfield id='name_basic' set='{@Contract_Create_Lib}'/> 
    <button id="search_form_submit"/>
    <table class='list view'>
        <link text='{@Contract_Create_Lib}'/>
    </table>

	<browser assert='{@Contract_Create_Lib}'/>
	<button id='edit_button'/>
	<csv file="{@global.scriptsdir}/csvs/contracts/contract_1665.csv" var="contract_1665">
				<!--User select-->
                <button id='btn_assigned_user_name'/>
                <browser assert='User Search'/>                        
                <textfield id='last_name_advanced' set='{@account_record.assigned_user_name}'/>                        
                <button value='Search'/>
                <link text='{@account_record.assigned_user_name}'/>
                
                <!--Teams select-->
                <table id='EditView_team_name_table'>
                <button value='Select'/>
                </table>
                <browser assert='Team Search'/>
                <textfield name='name' set='{@account_record.team_name}'/> 
                <button value='Search'/>
                <link text='{@account_record.team_name}'/>
                
                <!--Opportunity select-->
                <!-- Since we don't create Opportunity record in Contract_Create_Lib.xml now, the following statements are commented out. -->
                <!--<button id='btn_opportunity_name'/>
                <browser assert='Opportunity Search'/>
                <textfield id='name_advanced' set='{@pre_opp_name}'/> 
                <button value='Search'/>
                <table class="list view">
                <link text='{@pre_opp_name}'/>
                </table>-->
                
                <!--Account select-->
                <button id='btn_account_name'/>
                <browser assert='Account Search'/>
                <textfield id='name_advanced' set='{@pre_account_name}'/> 
                <button value='Search'/>
                <table class="list view">
                <link text='{@pre_account_name}'/>
                </table>
                
        <form name="EditView">
            <textfield name="name" set="{@contract_1665.name} {@user.name} {@stamp}"/>
            <textfield id="reference_code" set="{@contract_1665.reference_code}"/>
            <textfield id="expiration_notice_date" set="{@contract_1665.expiration_notice_date}"/>
            <select id="expiration_notice_hours" set="{@contract_1665.expiration_notice_hours}"/>
            <select id="expiration_notice_minutes" set="{@contract_1665.expiration_notice_minutes}"/>
            <!--select id="expiration_notice_meridiem" set="{@Contract_Create_Lib.expiration_notice_meridiem}"/-->
            <select name="type" set="{@ContractType_Create_Lib}"/>
            <textfield id="description" set="{@contract_1665.description}"/>
            <select id="status" set="{@contract_1665.status}"/>
            <textfield id="start_date" set="{@contract_1665.start_date}"/>
            <textfield id="end_date" set="{@contract_1665.end_date}"/>
            <select name="currency_id" set="{@contract_1665.currency_id}"/>
            <textfield id="total_contract_value" set="{@contract_1665.total_contract_value}"/>
            <textfield name="customer_signed_date" set="{@contract_1665.customer_signed_date}"/>
            <textfield name="company_signed_date" set="{@contract_1665.company_signed_date}"/>
				
			<button value='Save'/>
	</form>
	</csv>
	<browser assert='{@contract_1665.name} {@user.name} {@stamp}'/>
	<div class='detail view'>
	<browser assert='{@contract_1665.team_name}'/>
	</div>

	<!--Search the contract record in list view-->
    <link id='moduleTab_Contracts'/>
    <browser assert="Contracts"/>
    <textfield id='name_basic' set='{@contract_1665.name} {@user.name} {@stamp}'/> 
    <button id="search_form_submit"/>
    <table class='list view'>
        <link text='{@contract_1665.name} {@user.name} {@stamp}' click='false'/>
    </table>

	<!--Delete the records-->
	<script file='{@global.scriptsdir}/modules/lib/Contract_Delete_Lib.xml'/>
	<script file='{@global.scriptsdir}/modules/lib/Account_Delete_Lib.xml'/>
	<script file='{@global.scriptsdir}/modules/lib/ContractType_Delete_Lib.xml'/>
	<!--<script file='{@global.scriptsdir}/modules/lib/Opp_Delete_Lib.xml'/>-->

	<puts text='-------------------Contract_1665: finished-------------------'/>

</soda>

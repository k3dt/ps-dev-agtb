<soda>
	<!-- Compose Email from Contacts module detail view and send out -->
	<puts text="Test: Emails_9768.xml starting." />

	<script file="{@global.scriptsdir}/modules/lib/Contact_Create_Lib.xml" />
	<timestamp />

	<!--Search the Contact record-->
	<link id="moduleTab_Contacts" />
	<browser assert="Contacts" />
	<button id="search_form_clear" />
	<textfield id="search_name_basic" set="{@pre_contact_first_name} {@pre_contact_last_name}" />
	<button id="search_form_submit" />
	<wait timeout="3" />
	<table class="list view">
		<link text="{@pre_contact_first_name} {@pre_contact_last_name}" />
	</table>

	<browser assert="{@pre_contact_first_name} {@pre_contact_last_name}" />
	<div id="list_subpanel_activities">
		<button value="Compose Email" />
	</div>
	<wait timeout="5" />
	<browser assert="Quick Compose" />

	<!--verify-->
	<table id="composeHeaderTable0">
		<select id="data_parent_type0" assert="Contact" />
		<textfield id="data_parent_name0" assert="{@pre_contact_first_name} {@pre_contact_last_name}" />
		<textfield id="addressTO0"
			assert="{@pre_contact_first_name} {@pre_contact_last_name} &lt;{@contact_record.emailAddress0}&gt;" />
	</table>

	<csv file="{@global.scriptsdir}/csvs/emails/Email_9768.csv" var="email_record_9768">
		<textfield id="emailSubject0" set="{@email_record_9768.subject} {@stamp}" />
	</csv>

	<table id="composeHeaderTable0">
		<button index="1" alert="true" />
	</table>
	<wait timeout="25" />

	<div id="list_subpanel_history">
		<table class="list view">
			<link text="{@email_record_9768.subject} {@stamp}" click="false" />
		</table>
	</div>

	<script file="{@global.scriptsdir}/modules/lib/Contact_Delete_Lib.xml" />
	<puts text="Test: Emails_9768.xml finished." />
</soda>

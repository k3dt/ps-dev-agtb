<soda>
    <puts text='--------Knowledge Base_2477: create_article_tag--------'/>
    
    <timestamp/>
    <link id='moduleTab_KBDocuments'/>
    <browser assert='Knowledge Base'/>
    <link text='Create Article'/>
    <browser assert='Knowledge Base'/>
    <browser assert='Create'/>
    <csv file='{@global.scriptsdir}/csvs/knowledgebase/knowledgebase_2477.csv' var='knowledgebase_2477'>
                
        <!--Author select-->
        <button name='btn_author'/>
        <browser assert='User Search'/>                        
        <textfield name='last_name_advanced' set='{@knowledgebase_2477.author}'/>                        
        <button value='Search'/>
        <link text='{@knowledgebase_2477.author}'/>
                      
        <!--Create article tag-->
        <button name='btn_tags'/>
        <browser assert='Tags'/>
        <wait timeout='3'/>
        <button id='tcr'/>
        <wait timeout='3'/>
        <browser assert='Creating New Tag...'/>
        <browser assert='Select the parent tag, from tree '/>
        <link text='Tags'/>
        <wait timeout="3" />
        <textfield id='tag_new' set='{@knowledgebase_2477.tag}'/>
        <wait timeout="3" />
        <button id='Ok'/>
        <link text='{@knowledgebase_2477.tag}(0)'/>  
        <browser assert='{@knowledgebase_2477.tag}'/>
        <var var="KB_tag" set="{@knowledgebase_2477.tag}" />
    
        <!--Article body-->
        <link id='body_html_code'/>
        <textfield id='htmlSource' set='{@knowledgebase_2477.body}'/>
        <button value='Update'/>
         
        <form id='EditView'>
            <textfield name='kbdocument_name' set='{@knowledgebase_2477.name} {@user.name} {@stamp}'/> 
            <select id='status_id' set='{@knowledgebase_2477.status}'/>
            <textfield name='kbdocument_revision_number' set='{@knowledgebase_2477.revision}'/>
            <checkbox name='is_external' click='true'/>
            <wait timeout='2'/>
            <textfield name='exp_date' set='{@knowledgebase_2477.exp_date}'/>         
            <button value='Save'/>
        </form>
        
        <browser assert='{@knowledgebase_2477.name} {@user.name} {@stamp}'/>
        <span id='more_details_img' click='true'/>
        <wait timeout='2'/>
        <browser assert='{@knowledgebase_2477.team}'/>
        <button name='Edit' click='true'/>
        <wait timeout='2'/>
        <table class='edit view'>
            <checkbox id='is_external' assert='1'/>
        </table>
        <button id='btn_cancel' click='true'/>
    </csv>
    
    <link text='View Articles'/>
    <browser assert='Knowledge Base'/>
    <link id='advanced_tab_link'/>
    <textfield id='tag_name' set='{@knowledgebase_2477.tag}'/>      
    <button id='fts_search_ADV'/>
    <table class='list view'>
        <link text='{@knowledgebase_2477.name} {@user.name} {@stamp}' click='false'/>
    </table>
         
    <!--Delete the record-->
    <script file='{@global.scriptsdir}/modules/lib/KnowledgeBase_Delete_Lib.xml'/>
    <script file='{@global.scriptsdir}/modules/lib/KnowledgeBase_Deletetag_Lib.xml'/>
    
    <puts text='--------Knowledge Base_2477: Finished--------'/>

</soda>

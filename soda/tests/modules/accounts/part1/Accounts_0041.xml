<soda>
	<puts text="Test: Accounts_0041.xml starting." />

	<!--Create a account record-->
	<script file="{@global.scriptsdir}/modules/lib/Account_Create_Lib.xml" />

	<!--Search the record-->
	<link id="moduleTab_Accounts" />
	<div class="moduleTitle">
		<link href="index.php?module=Accounts&amp;action=index" click="false" />
	</div>
	<textfield id="name_basic" set="{@pre_account_name}" />
	<button id="search_form_submit" />
	<table class="list view">
		<link text="{@pre_account_name}" />
	</table>

	<!--Go its contact subpanel -->
	<button id="accounts_contacts_create_button" />
	<csv file="{@global.scriptsdir}/csvs/accounts/Accounts_0035.csv" var="contact_record_0035">
		<form id="form_SubpanelQuickCreate_Contacts">
			<textfield id="first_name"
				set="{@contact_record_0035.first_name} {@user.name} {@stamp}" />
			<textfield id="last_name" set="{@contact_record_0035.last_name}" />
			<textfield id="title" set="{@contact_record_0035.title}" />
			<textfield id="phone_work" set="{@contact_record_0035.phone_work}" />
			<textfield id="phone_mobile" set="{@contact_record_0035.phone_mobile}" />
			<textfield id="phone_fax" set="{@contact_record_0035.phone_fax}" />
			<textfield id="Contacts0emailAddress0" set="{@contact_record_0035.emailAddress0}" />
			<select id="lead_source" set="{@contact_record_0035.lead_source}" />
			<checkbox id="do_not_call" set="{@contact_record_0035.do_not_call}" />
		</form>

		<!--teams select-->
		<table id="form_SubpanelQuickCreate_Contacts_team_name_table">
			<button value="Select" />
		</table>
		<browser assert="Team Search" />
		<textfield name="name" set="{@contact_record_0035.team_name}" />
		<button value="Search" />
		<link text="{@contact_record_0035.team_name}" />

		<!--user select-->
		<button id="btn_assigned_user_name" />
		<browser assert="User Search" />
		<textfield name="last_name_advanced" set="{@contact_record_0035.assigned_user_name}" />
		<button value="Search" />
		<link text="{@contact_record_0035.assigned_user_name}" />

		<button value="Save" />

		<!--Verify the contact record has been created-->
		<div id="list_subpanel_contacts">
			<table class="list view">
				<link
					text="{@contact_record_0035.first_name} {@user.name} {@stamp} {@contact_record_0035.last_name}" />
			</table>
		</div>
	</csv>
	<!--Search the record-->
	<link id="moduleTab_Accounts" />
	<div class="moduleTitle">
		<link href="index.php?module=Accounts&amp;action=index" click="false" />
	</div>
	<textfield id="name_basic" set="{@pre_account_name}" />
	<button id="search_form_submit" />
	<table class="list view">
		<link text="{@pre_account_name}" />
	</table>
	<wait timeout="3" />
	<!--click edit image button in contact subpanel-->
	<div id="list_subpanel_contacts">
		<span class="pageNumbers" assert="(1 - 1 of 1)" />
		<link class="listViewTdToolsS1" index="1" />
	</div>

	<!--goto contact edit view-->
	<div class="moduleTitle">
		<link href="index.php?module=Contacts&amp;action=index" click="false" />
	</div>

	<csv file="{@global.scriptsdir}/csvs/accounts/Accounts_0041.csv" var="edit_contact_record">
		<textfield name="first_name" set="{@edit_contact_record.first_name}" />
		<textfield id="last_name" set="{@edit_contact_record.last_name}" />
		<textfield id="phone_work" set="{@edit_contact_record.phone_work}" />
		<textfield id="phone_mobile" set="{@edit_contact_record.phone_mobile}" />
		<textfield id="phone_fax" set="{@edit_contact_record.phone_fax}" />
		<textfield id="title" set="{@edit_contact_record.title}" />
		<textfield id="department" set="{@edit_contact_record.department}" />
		<textfield id="Contacts0emailAddress0" set="{@edit_contact_record.emailAddress0}" />

		<select id="lead_source" set="{@edit_contact_record.lead_source}" />
		<checkbox id="sync_contact" set="{@edit_contact_record.sync_contact}" />
		<checkbox id="do_not_call" set="{@edit_contact_record.do_not_call}" />

		<textfield id="primary_address_street" set="{@edit_contact_record.primary_address_street}" />
		<textfield id="primary_address_city" set="{@edit_contact_record.primary_address_city}" />
		<textfield id="primary_address_state" set="{@edit_contact_record.primary_address_state}" />
		<textfield id="primary_address_postalcode" set="{@edit_contact_record.primary_address_postalcode}" />
		<textfield id="primary_address_country" set="{@edit_contact_record.primary_address_country}" />
		<textfield id="description" set="{@edit_contact_record.description}" />

		<textfield id="alt_address_street" set="{@edit_contact_record.alt_address_street}" />
		<textfield id="alt_address_city" set="{@edit_contact_record.alt_address_city}" />
		<textfield id="alt_address_state" set="{@edit_contact_record.alt_address_state}" />
		<textfield id="alt_address_postalcode" set="{@edit_contact_record.alt_address_postalcode}" />
		<textfield id="alt_address_country" set="{@edit_contact_record.alt_address_country}" />

		<!--user select-->
		<button id="btn_assigned_user_name" />
		<browser assert="User Search" />
		<textfield name="last_name_advanced" set="{@edit_contact_record.assigned_user_name}" />
		<button value="Search" />
		<link text="{@edit_contact_record.assigned_user_name}" />

		<!--teams select-->
		<table id="EditView_team_name_table">
			<button value="Select" />
		</table>
		<browser assert="Team Search" />
		<textfield name="name" set="{@edit_contact_record.team_name}" />
		<button value="Search" />
		<link text="{@edit_contact_record.team_name}" />

		<button value="Save" />

		<!--Verify modify ok-->
		<div id="list_subpanel_contacts">
			<table class="list view">
				<link text="{@edit_contact_record.first_name} {@edit_contact_record.last_name}"
					click="false" />
			</table>
		</div>
	</csv>

	<!--Delete the record-->
	<script file="{@global.scriptsdir}/modules/lib/Account_Delete_Lib.xml" />
	<script file="{@global.scriptsdir}/modules/lib/Contact_Delete_Lib.xml" />
	<puts text="Test: Accounts_0041.xml finished." />
</soda>

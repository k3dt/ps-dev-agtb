<soda>
	<puts text="Test: Reports_8458.xml starting." />
	<!--
		1. Login to SugarCRM as a valid user.
		2. Go to Reports module.
		3. Click a report name in the Report List.
		4. Click "Mark as Favorite" button on the Report Viewer of the report

	Expecting:
		Record is listed in My Favorite Reports, and "Mark as Favorite"
		button is changed to "Remove From My Favorites".
	-->
	
	<link id="moduleTab_Reports" />
	
	<var var="report_name" set="Partner Account List" />
	
	<textfield name="name_basic" set="{@report_name}" />
	<button id="search_form_submit" />
	<browser assert="{@report_name}" />
	<link text="{@report_name}" />
	
	<wait timeout="4" />
	
	<javascript addUtils="true">
		<!-- this is a javascript hack to enable the first of 
			the favorites... -->
		stars = document.getElementsByClassName('off');
		var star = stars[0];
		star.onclick();
	</javascript>
	
	<link id="moduleTab_Reports" />
	
	<link text="My Favorite Reports" />
	
	<!-- is a favorite  -->
	<browser assert="{@report_name}" />
	
	<link id="moduleTab_Reports" />
	
	<textfield name="name_basic" set="{@report_name}" />
	<button id="search_form_submit" />
	<browser assert="{@report_name}" />
	<link text="{@report_name}" />
	
	<wait timeout="4" />
	
	<javascript addUtils="true">
		<!-- this is a javascript hack to enable the first of 
			the favorites... -->
		stars = document.getElementsByClassName('on');
		var star = stars[0];
		star.onclick();
	</javascript>
	
	<link id="moduleTab_Reports" />

	<link text="My Favorite Reports" />
	
	<!-- should not be a favorite -->
	
	<browser assertnot="{@report_name}" />
	
	<puts text="Test: Reports_8452.xml finished." />
</soda>
	
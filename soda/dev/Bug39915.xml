<soda>
    <!-- Test Creating A calculated Field that uses the first name an salutation fields-->
    <puts text="Test: Bug39915.xml starting" />
    <!-- set the description to use a formula -->
    <link text="Admin" />
    <link text="Studio" assertPage="false" />
    <link text="Contacts" class="studiolink" assertPage="false" />
    <link text="Fields" class="studiolink" assertPage="false" />
    <link text="description" class="mbLBLL" assertPage="false" />
    <checkbox id="calculated" set="true" />
    <button name="editFormula" assertPage="false" />
    <textfield id="formulaInput" set='concat($salutation, " ", $first_name, " ", $last_name, " ", $title)' />
    <button id="fomulaSaveButton" assertPage="false" />
    <wait timeout="1" />
    <button name="fsavebtn" assertPage="false" />
    <wait timeout="1" />
    
	<!-- Verify the CF works -->
	<link id="moduleTab_Contacts" />
    <link text="Create Contact" />
	<textfield id="first_name" set="first" />
    <textfield id="last_name" set="last" />
    <textfield id="title" set="PHD" />
	<select id="salutation" set="Mr." />
	<!-- tab away to trigger the calculation -->
	<textfield id="phone_work" set="1" />
	<browser assert="Mr. first last PHD" />
	
	<!-- remove the formula on the description field -->
	<link text="Admin"  alert="true"/>
    <link text="Studio" assertPage="false" />
    <link text="Contacts" class="studiolink" assertPage="false" />
    <link text="Fields" class="studiolink" assertPage="false" />
    <link text="description" class="mbLBLL" assertPage="false" />
    
    <checkbox id="calculated" set="false" />
	<button name="fsavebtn" assertPage="false" />
    
    <puts text="Test: Bug39915.xml finished." />
    
</soda>
/*sugar mods*/

form[name="signupView"] {
  .control-group.error input,
  .control-group.error textarea {
    width: 180px;
  }
}

//changes below have not been modified from first styleguide commit;
//however, bootstrap has changed from these values
//preserved for now until effect can be accepted

legend {
  border-bottom: 1px solid #eee;
}

label {
  color: @grayDark;
}

.form-actions {
  border-top: 1px solid #ddd;
}

// Reset the file input to browser defaults
input[type="file"] {
  width: auto;
  padding: initial;
  line-height: initial;
  background-color: @inputBackground;
  background-color: initial;
  border: initial;
  .box-shadow(none);
}

// Reset line-height for IE
input[type="file"] {
  line-height: 18px \9;
}

// Chrome on Linux and Mobile Safari need background-color
select {
  background-color: @inputBackground;
  border: inherit;
}

input[type="image"] {
  border: 0;
}

// Position radios and checkboxes better
input[type="radio"],
input[type="checkbox"],
input[type="image"] {
  width: auto;
  height: auto;
  padding: 0;
  margin: 3px 0;
  *margin-top: 0; /* IE7 */
  line-height: normal;
  cursor: pointer;
  background-color: transparent;
  border: 0 \9; /* IE9 and down */
  .border-radius(0);
}

// Reset width of input buttons, radios, checkboxes
input[type="submit"],
input[type="reset"],
input[type="button"],
input[type="radio"],
input[type="checkbox"] {
  height: auto;
}

// Inputs within a label
label input,
label textarea,
label select {
  display: block;
}

// Remove shadow from image inputs
input[type="image"] {
  .box-shadow(none);
}

// Focus for select, file, radio, and checkbox
select:focus,
input[type="file"]:focus,
input[type="radio"]:focus,
input[type="checkbox"]:focus {
  .box-shadow(none); // override for file inputs
}

// Hidden inputs
input[type="hidden"] {
  display: none;
}

// Placeholder text gets special styles; can't be bundled together though for some reason
.placeholder(@grayLight);

//commit 54580: enhance error icons next to input fields, do not change size
//Revert "54580: one more css fix"
/*.input-prepend,
.input-append {
  margin-bottom: 5px;
  input,
  select,
  .uneditable-input {
    .border-radius(0 0 0 0);
  }
}*/

.error .input-append > .add-on {
  position:absolute;
  right:40px;
}

.control-group.error > .input-append > input {
 .border-radius(@inputBorderRadius);
}

input[disabled],
select[disabled],
textarea[disabled],
input[readonly],
select[readonly],
textarea[readonly] {
  cursor: not-allowed;
  border: 1px solid @inputBorder;
  color: @placeholderText;
}

#content .control-group label {
  padding: 0 1em 0 0;
  display:inline-block;
}

input[type=radio] {
  display:inline-block;
}

//headerpane record name edit
h1 input[type="text"] {
  font-size: 20px;
  height: 28px;
  margin: 0;
}

.form-addit {
  position: relative;
  margin: -1px 1px 0 0;
  padding: 5px;
  border-top: 1px solid darken(@grayLighter, 5%);
  background: @grayLighter;
  border-bottom: 1px solid darken(@grayLighter, 5%);
  z-index: 1000;
}

.acomment input.reply,  {
  margin: 0;
  padding: 6px 8px;
  border: 1px solid darken(@grayLighter, 5%);
}

.input-append {
  position:relative;
  display:inline-block;
  .add-on {
    border:none;
    background:transparent !important;
    margin-left:-26px;
    position:relative;
    /*
    top:0;
    right:0;
    */
  }
  &.textarea,
  &.select,
  &.checkbox,
  &.radio {
    padding-left:0;
      .add-on {
        top:-0px;
        right:0;
        background:transparent !important;
        border:none;
      }
  }
  &.checkbox,
  &.radio {
    .add-on {
      margin-left:0;
    }
  }
  &.select,
  &.textarea {
    .add-on {
      position:absolute;
    }
  }
  &.widget {
    width:100%;
    .add-on {
      position: absolute;
      top: 1px;
      right: 0;
    }
  }
  &.textarea {
    display:inline;
  }
  &.select .add-on {
  }
  input{
    .border-radius(@inputBorderRadius);
  }
}

.radio input[type="radio"],
.checkbox input[type="checkbox"] {
  float: none;
}

.control-group {
  margin-bottom:0;
  clear: both;
  .btn-toolbar {
    margin: 0 0 0 5px !important;
    display: inline;
  }
  .wide {
    text-align:left;
  }
  label {
    display:inline-block;
    float:none;
    &.hide {
      display: none;
    }
    input {
      display:inline-block;
      float:none;
    }
  }
  &.email .controls.pull-left {
    overflow: hidden;
    text-overflow: ellipsis;
  }
  /* To maintain same size of input boxes, substructing 27px for .add-on exclamation */
  &.error {
    &>div:first-child,
    &>div:first-child label,
    &> label {
      font-weight:500;
      color:@errorText;
    }
    .input-append label {
      color:@errorText;
    }
    .chzn-choices,
    .chzn-container-single > a.chzn-single,
    .upload-field-custom.btn.avatar {
      border-color:@errorText;
    }
    .chzn-search {
      border: 1px solid @errorText;
      border-top: 0;
      margin-left: -1px;
      margin-right: -1px;
    }
    .chzn-container-single > a > div > b {
      margin-left: -18px;
    }
    .help-block {
      font-weight:normal;
    }
    .preview > span > .icon-plus {
      border-color:@errorText;
      color:@errorText;
    }
    label.file-upload {
      background:@errorText;
    }
    .urleditable-wrap {
      .editable-trigger > i,
      .urleditable-field a {
        color:@errorText !important;
      }
    }
  }
}

// fluid width input fields - fixes overflow of row-fluid spans
.controls[class*="span"] {
  input[type="text"].inherit-width,
  textarea.inherit-width,
  select.inherit-width {
    width: 100%;
    min-height: 28px;
    .box-sizing(border-box);
  }
}

//Generate fixed spanX modal widths
.spanLabelX (@index) when (@index > 0) {
  (~".form-horizontal .control-label.span@{index}") { .spanLabel(@index); }
  .spanLabelX(@index - 1);
}
.spanLabelX (0) {}

.spanLabel (@columns) {
  width: (@fluidGridColumnWidth * @columns) + (@fluidGridGutterWidth * (@columns - 1));
  *width: (@fluidGridColumnWidth * @columns) + (@fluidGridGutterWidth * (@columns - 1)) - (.5 / @gridRowWidth * 100 * 1%);
}

.spanLabelX (@gridColumns);

// for use by controls not in form-horizontal
.controls {
  margin-left: @fluidGridGutterWidth;
  padding: 0;
  &.controls-four {
    padding-right: 144px;
  }
  &.controls-three {
    padding-right: 108px;
  }
  &.controls-two {
    padding-right: 72px;
  }
  &.controls-one {
    padding-right: 36px;
  }
  &.btn-fit {
    position: relative;
    .btn {
      position: absolute;
      top: 0;
      right: 0px;
      padding: 5px 7px 3px;
      &.fourth {
        right: 108px;
      }
      &.third {
        right: 72px;
      }
      &.second {
        right: 36px;
      }
      &.first {
        /* right:___; default  */
      }
    }
  }
}

.form-horizontal {
  .row-fluid.control-group {
    margin: 0;
    padding: 0;
  }

  .controls {
    margin-left: @fluidGridGutterWidth;
    padding: 0;

    &.controls-four {
      padding-right: 144px;
    }
    &.controls-three {
      padding-right: 108px;
    }
    &.controls-two {
      padding-right: 72px;
    }
    &.controls-one {
      padding-right: 36px;
    }
    &.btn-fit {
      .tooltip {
        word-wrap: normal;
        white-space: nowrap;
      }
      .btn {
        position: absolute;
        top: 0;
        right: 0px;
        padding: 5px 8px 3px;
        &.fourth {
          right: 108px;
        }
        &.third {
          right: 72px;
        }
        &.second {
          right: 36px;
        }
        &.first {
          /* right:___; default  */
        }
      }
    }
  }
  .card2 .control-group:first-child .control-label {
    .border-radius(3px 3px 0 0);
    border-top: 1px solid lighten(@grayLight,14%);
  }
  .card2 .control-group:last-child .control-label {
    padding-bottom: 0;
    .border-radius(0 0 3px 3px);
    border-bottom: 1px solid lighten(@grayLight,14%);
  }
  div.control-label {
    float: left;
    /*width: 140px;*/
    padding: 5px 0 8px;
    text-align: right;
    border-left: 1px solid lighten(@grayLight,14%);
    border-right: 1px solid lighten(@grayLight,14%);
    /*background-color: @tableBackgroundAccent;*/
    background-color:#f7f7f7;
    label {
      color: lighten(@gray,20%);
    }
  }
  .help-block {
    margin-top:0;
  }
  .chzn-container {
    margin-top: 1px;
  }
}

.form-actions {
  border:none;
  background:transparent;
}

.mu.extend .fieldPlaceHolder {
  margin-left:4px;
}

/* Inline avatar upload */
.image_field span {
    margin-left: 0;
}
.image_field {
  text-align:center;
  position: relative;
}
.image_field.image_edit {
  border: 3px dashed #CCC;
}

.image_field > label {
  display: block !important;
  padding: 0 !important;
}

.image_field > label:hover {
  cursor: pointer !important;
}

.image_input input {
  z-index: 999;
  line-height: 0;
  font-size: 50px;
  position: absolute !important;
  top: -2px;
  left: -700px !important;
  opacity: 0;
  filter: alpha(opacity = 0);
  -ms-filter: "alpha(opacity=0)";
  cursor: pointer;
  _cursor: hand;
  margin: 0;
  padding:0;
}

.image_btn {
  position: absolute;
  bottom: -3px;
  left: -3px;
  height: 15px;
  line-height: 15px;
  background-color: black;
  display: inline-block;
  width: 100%;
  color: white;
  border: 3px solid black;
}

.image_btn.delete {
  left:auto;
  right:0px;
  width:20px;
  z-index:1;
  line-height: 18px;
}
.image_btn.delete:hover {
  cursor: pointer;
}

.image_preview {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  color: #CCC;
}
.image_preview img {
  vertical-align: top !important;
}

.control-group.error .image_field, .error.image_field {
  border: 3px dashed @errorText;
}
.error .image_preview {
  color: @errorText;
}

.datepicker {
  span.year.active:hover,
  span.year.active,
  span.month.active:hover,
  span.month.active,
  td > .active,
  td > .active:hover {
    color:@white;
    background-color: @gray;
    border-color: darken(@gray,10%);
          @shadow: inset 0 1px 1px rgba(0,0,0,.5);
          .box-shadow(@shadow);
  }
}


//54580: use media queries to also position symbol properly
//43d1a253e5dae2f5d02b9273f527f9e43ff2dd6c

@media (max-width: 480px) {
  .error .input-append > .add-on {
    position: relative !important;
    margin-right: -28px;
    right: 27px !important;
  }
  .row > .empty,
  .row-fluid > .empty {
    display:none !important;
  }
}

@media (max-width: 768px) {
  .error .input-append > .add-on {
    position: relative !important;
    margin-right: -28px;
    right: 27px !important;
  }
  .card2 {margin: 10px 0;}
  .card2 .row-fluid .span2, .card2 .row-fluid .span10 {
    text-align: left;
    background: none;
    padding: 0 10px;
    border: none;
  }
  .row > .empty,
  .row-fluid > .empty {
    display:none !important;
  }
}

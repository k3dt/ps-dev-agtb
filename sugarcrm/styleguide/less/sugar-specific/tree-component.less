@smallTreeFont: 12px;
@smallTreeHeight: 14px;
@folderTreeColor: #47484a;
//mixin
.smallTreeLi {
  margin-left: 18px;
  padding: 1px 0px 1px 0px;
  line-height: @smallTreeHeight;
  min-height: @smallTreeHeight;
  font-size: @smallTreeFont;
}
.smallTreeA {
  line-height: @smallTreeHeight;
  height: @smallTreeHeight;
  min-height: @smallTreeHeight;
  font-size: @smallTreeFont;
  border-top: 0px;
}
//.mixin
.jstree-sugar {
  &.tree-component {
    color: @folderTreeColor !important;
    ul {
      li {
        padding: 5px 0;
        white-space: inherit;
        &:nth-last-child(1) {
          border-bottom: none;
        }
        &.jstree-leaf > ins {
          &:before {
            content: "\f114";
          }
          &.leaf:before {
            content: "\f15c";
          }
        }
      }
    }
    li > a {
      padding: 0px;
      display: inline-table;
      color: @folderTreeColor !important;
    }
    ins {
      &:before {
        display: inline;
      }
      &.jstree-icon {
        padding: 5px;
        color: @folderTreeColor !important;
      }
    }
    li {
      &.jstree-leaf {
        a {
          ins {
            &.jstree-icon {
              padding-right: 8px;
            }
          }
        }
      }
      &.jstree-open,
      &.jstree-closed,
      &.jstree-leaf {
        input {
          &.jstree-rename-input {
            top: 6px !important;
            left: 34px !important;
            padding-left: 5px !important;
          }
        }
      }
    }
    &.btn-group {
      padding-right: 6px;
    }
    a {
      &.jstree-clicked {
        color: #003366 !important;
      }
      &.btn {
        &.jstree-contextmenu,
        &.jstree-addnode {
          padding: 4px;
        }
      }
      &.jstree-search {
        font-weight: bold;
      }
    }
  }
}

#vakata-contextmenu {
  border-radius: 3px;
  li {
    a {
      color: @folderTreeColor !important;
      ul {
        background: #ffffff;
        border-radius: 3px;
      }
    }
    &.jstree-contextmenu-disabled {
      a {
        color: #aaaaaa !important;
      }
    }
  }
  ul {
    background: #ffffff;
    border-radius: 3px;
  }
}

#vakata-dragged {
  ins {
    background: transparent !important;
    font-size: 16px;
    &.jstree-ok {
      &:before {
        font-family: FontAwesome;
        content: "\f00c";
      }
    }
    &.jstree-invalid {
      &:before {
        font-family: FontAwesome;
        content: "\f00d";
      }
    }
  }
}

#jstree-marker {
  background: url("@{baseUrl}/img/d.png") -41px -57px no-repeat !important;
  text-indent: -100px;
  margin-left: -18px !important;
}

#jstree-marker-line {
  margin-left: -18px !important;
}

div.fa-expand[data-action=full-screen] {
  cursor: pointer;
}

.parenttree {
  width:100%;
  background-color: #f6f6f6;
  height: 28px;
  min-height: 28px;
  line-height: 22px;
  border-radius: 3px;
  padding: 0px 0px 0px 5px;
  box-sizing: border-box;
  font-size: 15;
  font-weight: 500;
  border: 1px solid #dddddd;
  div.divinput {
    display: block;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    color: #555555;
    line-height: 26px;
    border-radius: 4px;
    padding-left:2px;
    width: 100%;
    height: 26px;
  }
  .dropdown-menu {
    text-align: left;
    padding: 0px;
    border: 1px solid @linkColor;
    border-top:none;
    position: relative;
    top: -1px;
    left: -6px;
    width: 100%;
    border-radius: 0 0 3px 3px;
    padding-right: 5px;
    li {
      display: block;
      padding: 8px 10px 0px 10px;
      clear: both;
      font-weight: normal;
      line-height: 18px;
      color: #555555;
      white-space: nowrap;
      margin: 0;
      &.tree {
        overflow-x: hidden;
        overflow-y: auto;
        max-height: 200px;
        padding:0px;
        span.jstree-sugar {
          padding: 0px;
        }
        .tree-component {
          ul {
            li{
              .smallTreeLi;
              >ins {
                margin-right: 0px !important;
                height: @smallTreeHeight;
                &.jstree-icon {
                  padding: 2px 2px 2px 0px;
                }
                &:before {
                  font-size: @smallTreeFont + 2;
                }
              }
              > a {
                .smallTreeA;
              }
            }
          }
          > ul > li {
            margin-left: 0;
          }
        }
      }
      &.st {
        div[data-place=bottom] {
          padding: 0px 0px 8px 0px;
          line-height: 20px;
          height: 20px;
          input[data-role=secondinput] {
            z-index:1 !important;
          }
          [data-action=create-label-cover] {
            font-size: @smallTreeFont;
            [data-action=create-new] {
              .smallTreeA;
              display: inline;
            }
          }
          input[data-role=add-item] {
            width: 70%;
            margin-left: 2px;
            line-height: 12px;
            height: 12px;
            font-size: @smallTreeFont;
          }
          [data-role=pseudo] {
            color: @folderTreeColor;
          }
        }
        div.fa-folder-open {
          padding-right: 5px;
        }
      }
    }
  }
  &.open {
    border-color: @linkColor;
    border-radius: 3px 3px 0px 0px;
    border-bottom: none;
  }
  .select-arrow {
    display: inline-block;
    width: 18px;
    height: 100%;
    position: absolute;
    right: 0;
    top: 0;
    filter: none;
    .border-radius(0);
    top: 0;
    padding-left: 4px;
    .box-sizing(border-box);
  }
}

.nested-set-full {
  .jstree-sugar {
    &.tree-component {
      padding: 0;
      > ul {
        background:url("@{baseUrl}/img/bg.jpg") left top repeat;
        padding: 0 10px;
        border-bottom: 1px solid #e9e9e9;
      }
      ul {
        li {
          min-height: 37px;
          padding: 0;
          > a {
            line-height: 37px;
            height: 37px;
            display: inline;
          }
          > div {
            line-height: 37px;
          }
        }
      }
      input {
        &.jstree-rename-input {
          height: 25px !important;
          line-height: 25px !important;
        }
      }
    }
  }
}

.dashlet-cell {
  .jstree {
    &.tree-component {
      ul {
        li{
          .smallTreeLi;
          >ins {
            margin-right: 0px !important;
            height: @smallTreeHeight;
            &.jstree-icon {
              padding: 2px 2px 2px 0px;
            }
            &:before {
              font-size: @smallTreeFont + 2;
            }
          }
          > a {
            .smallTreeA;
            color: @blue !important;
            &.jstree-clicked {
              font-weight: bold;
              color: @textColor !important;
            }
          }
          &.jstree-open {
            > a {
              font-weight: bold;
              color: @textColor !important;
            }
          }
          &.jstree-leaf {
            ins {
              & + a:hover {
                cursor: default;
              }
              &.leaf + a:hover {
                cursor: pointer;
              }
            }
          }
        }
      }
      > ul > li {
        margin-left: 0;
      }
    }
  }
}

[data-type="nestedset"] {
  z-index: 2;
  .parenttree {
    position: absolute;
  }
}
tr.tr-inline-edit {
  .parenttree {
    top: -14px;
    cursor: pointer;
    .select-arrow, span[data-role="treevalue"] {
      font-size: @smallTreeFont;
    }
  }
}

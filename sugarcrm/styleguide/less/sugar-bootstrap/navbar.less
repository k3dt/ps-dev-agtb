/*sugar mods*/

.navbar-inner {
  @shadow: 0 1px 3px rgba(0,0,0,.25), inset 0 -1px 0 rgba(0,0,0,.1), 0 4px 0 @BorderColor;
}

.btn-navbar {
  @shadow: inset 0 1px 0 rgba(255,255,255,.1), 0 1px 0 rgba(255,255,255,.075);
  .box-shadow(@shadow);
}

.btn-navbar .icon-bar {
  background-color: #f5f5f5;
  .box-shadow(0 1px 0 rgba(0,0,0,.25));
}

.btn-navbar .icon-bar {
  .box-shadow(0 1px 0 rgba(0,0,0,.25));
}

.navbar {
  // Website or project name
  .brand {
    color: @white;
  }
  // Plain text in topbar
  .navbar-text {
    a:hover {
      color: @white;
      background: red !important;
    }
  }
  //fix red message button position
  .dropdown .btn {
    margin-top: 8px;
    margin-bottom: 7px;
  }
}

.dropdown-menu h4.title {
  margin-top: -5px;
  padding: 5px 10px;
  text-shadow: 0 -1px 1px rgba(0,0,0,0.8);
  font-size: @baseFontSize;
  color: @white !important;
  #gradient > .vertical(@navbarBackgroundHighlight, @navbarBackground);
  .border-radius(3px 3px 0 0);
}

.dropdown-toggle .mystuff {
    margin-left: -10px;
}
.dropdown-menu ul {
    margin: 0;
  list-style: none;
}
.dropdown-menu ul li {
  margin: 0;
  padding: 0;
}
.dropdown-menu  a {
  margin: 0;
  padding: 8px 10px;
  border-top: 1px solid darken(@grayLighter, 5%);
}
.dropdown-menu  li:first-child a {
  border-top: none;    
}


.dropdown-toggle .caret {
  margin-left: 6px;
}

// Navbar search
.navbar-search {
  .search-query.filter, .chzn-container-multi .chzn-choices {
    color: @grayLighter;
    background: @NavigationBar;
    border: 1px solid #111;
    .border-radius(2px);
    @shadow: inset 0 1px 2px rgba(0,0,0,.1), 0 1px 0px rgba(255,255,255,.15);
    .box-shadow(@shadow);

    // Placeholder text gets special styles; can't be bundled together though for some reason
    .placeholder(@grayLighter);

    // Hover states
    &:hover {
      color: @grayDark;
      background-color: @grayDark;
    }
    // Focus states (we use .focused since IE7-8 and down doesn't support :focus)
    &:focus,
    &.focused {
      color: @grayDark;
      background-color: @grayDarker;
      border: 1px solid @gray;
    }
  }
}

// Links
.navbar .nav > li > a {
  color: lighten(desaturate(@BorderColor),80%);
  text-shadow: 0 -1px 1px rgba(0,0,0,.25);
}

// Hover
.navbar .nav > li > a:hover {
  background-color:  lighten(@NavigationBar,20%); // "transparent" is default to differentiate :hover from .active
  color: lighten(desaturate(@BorderColor),100%);
  text-shadow: 0 -1px 0 rgb(0,0,0);
}

// Active nav items
.navbar .nav .active > a,
.navbar .nav .active > a:hover {
  color: lighten(lightness(@PrimaryButton),100%);
  background-color: lighten(@NavigationBar,5%) !important;
  @shadow: inset 0 -1px 0 rgba(0,0,0,.4);
  .box-shadow(@shadow);
  text-shadow: 0 -1px 0 rgb(0,0,0);
}

// Menu position and menu carets
.navbar .dropdown-menu {
  &:before {
    border-bottom-color: rgba(0,0,0,.2);
  }
}

// Dropdown toggle caret
.navbar .nav .dropdown-toggle .caret,
.navbar .nav .open.dropdown .caret {
  border-top-color: @white;
}
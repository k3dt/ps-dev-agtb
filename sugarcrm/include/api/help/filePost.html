<!--
/*********************************************************************************
 * The contents of this file are subject to the SugarCRM Master Subscription
 * Agreement (""License"") which can be viewed at
 * http://www.sugarcrm.com/crm/master-subscription-agreement
 * By installing or using this file, You have unconditionally agreed to the
 * terms and conditions of the License, and You may not use this file except in
 * compliance with the License.  Under the terms of the license, You shall not,
 * among other things: 1) sublicense, resell, rent, lease, redistribute, assign
 * or otherwise transfer Your rights to the Software, and 2) use the Software
 * for timesharing or service bureau purposes such as hosting the Software for
 * commercial gain and/or for the benefit of a third party.  Use of the Software
 * may be subject to applicable fees and any use of the Software without first
 * paying applicable fees is strictly prohibited.  You do not have the right to
 * remove SugarCRM copyrights from the source code or user interface.
 *
 * All copies of the Covered Code must include on each user interface screen:
 *  (i) the ""Powered by SugarCRM"" logo and
 *  (ii) the SugarCRM copyright notice
 * in the same form as they appear in the distribution.  See full license for
 * requirements.
 *
 * Your Warranty, Limitations of liability and Indemnity are expressly stated
 * in the License.  Please refer to the License for the specific language
 * governing these rights and limitations under the License.  Portions created
 * by SugarCRM are Copyright (C) 2004-2012 SugarCRM, Inc.; All Rights Reserved.
 ********************************************************************************/
-->
<div class="longHelpTitle">Attaches a file to a field in a record</div>
<div class="summary">
    <h2>Summary:</h2>
    <p>This endpoint takes a file or image and saves it to a record.</p>
</div>
<div class="params">
<h2>Query Parameters:</h2>
    <table>
        <tr><th>Param</th><th>Description</th><th>Optional</th></tr>
        <tr><td>format</td><td>sugar-html-json</td><td>Required</td></tr>
        <tr><td>delete_if_fails</td><td>Boolean indicating whether the API is to mark related record deleted if the file upload fails.</td><td>Optional (if used oauth_token is also required)</td></tr>
        <tr><td>oauth_token</td><td>oauth_token_value</td><td>Optional (Required if delete_if_fails is true)</td></tr>
    </table>
</div>
<div class="input">
    <h2>Input Example:</h2>
    <code class="codesample">
        POST /rest/v10/Notes/abcd-1234/file/filename?format=sugar-html-json&delete_if_fails=true&oauth_token=<token> HTTP/1.1

        Host: localhost
        Connection: keep-alive
        Content-Length: 10263
        Cache-Control: max-age=0
        Content-Type: multipart/form-data; boundary=---WebKitFormBoundarybThnfMCVqnkSxLCl
        Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
        Accept-Encoding: gzip
        Accept-Language: en-US,en;q=0.8

        ------WebKitFormBoundarybThnfMCVqnkSxLCl
        Content-Disposition: form-data; name="file"; filename="my-awesome-document.xyz"
        Content-Type: application/document-xyz

        ...<span class="note">This is where the bin data would be</span>

    </code>
</div>
<div class="output">
    <h2>Output Example:</h2>
    <code class="codesample">
        {
          "field": {
            "content-type": "application/document-xyz",
            "content-length": "657483",
            "name": "my-awesome-document.xyz",
            "uri": "http://your.sugarcrm.install/rest/v10//Notes/abc-1234/file/field"
          }
        }
    </code>
</div>

<!--
/*
 * Your installation or use of this SugarCRM file is subject to the applicable
 * terms available at
 * http://support.sugarcrm.com/06_Customer_Center/10_Master_Subscription_Agreements/.
 * If you do not agree to all of the applicable terms or do not have the
 * authority to bind the entity as an authorized representative, then do not
 * install or use this SugarCRM file.
 *
 * Copyright (C) SugarCRM Inc. All rights reserved.
 */
-->
<!-- BEGIN: embeded -->
<script>

function updatedroplist(name, field_name, field_value){
	document.getElementById(name).src = 'index.php?module=QueryBuilder&action=DisplayColumnValues&to_pdf=true&column_name=' + field_value + '&column_module=' + document.getElementById(field_name).options[document.getElementById(field_name).selectedIndex].value;
}
</script>

<script>
		function toggleDisplay(id){
		
			if(this.document.getElementById( id).style.display=='none'){
				this.document.getElementById( id).style.display='inline'
						
			}else{
				this.document.getElementById(  id).style.display='none'
			}
		
		}
		
		function toggleDisplay2(id, dropdown, drop_value){
			if(this.document.getElementById(dropdown).value==drop_value){
				toggleDisplay(id);
			} else{
				this.document.getElementById(id).style.display='none'	
			}	
		}		
		
</script>


<!-- END: embeded -->
<!-- BEGIN: main -->

{SET_RETURN_JS}


<table cellpadding="0" cellspacing="0" border="0" width="100%" class="edit view">
<tr><td>
	<table width="100%" border="0" cellspacing="0" cellpadding="0">
<form>

	<tr>
		<td scope="row"><slot>{MOD.LBL_GROUPBY_AXIS}</slot></td>	
		<td  colspan="3"><slot><select id='groupby_axis' name='groupby_axis' onchange="toggleDisplay('calcdiv');" tabindex='2' >{GROUPBY_AXIS}</select></slot></td>		</tr><tr>
		</tr><tr>
		<td ><slot>&nbsp;</slot></td>
		<td scope="row"><slot>&nbsp;</slot></td>		
		<td ><slot>&nbsp;</slot></td>
		<td scope="row"><slot>&nbsp;</slot></td>
		</tr>

		<tr>
		<td colspan="4"><div id='calcdiv' style='display:none'>
		<table width="100%" border="0" cellspacing="0" cellpadding="0">
		<tr>
			<td width="30%" scope="row"><slot>{MOD.LBL_GROUPBY_CALC}</slot></td>	
			<td width="30%" ><slot><select id='groupby_calc_type' name='groupby_calc_type' tabindex='2' >{GROUPBY_CALC_TYPE}</select></slot></td>
			<td width="20%" ><slot>&nbsp;</slot></td>
			<td width="20%" scope="row"><slot>&nbsp;</slot></td>
			</tr><tr>
			<td scope="row"><slot>{MOD.LBL_GROUPBY_CALC_MODULE}</slot></td>	
			<td  colspan="3"><slot><select id='groupby_calc_module' name='groupby_calc_module' onchange="updatedroplist('calc_field_frame', 'groupby_calc_module','');" tabindex='2' >{GROUPBY_CALC_MODULE}</select></slot></td>
			</tr><tr>
			<td scope="row"><slot>{MOD.LBL_GROUPBY_CALC_FIELD}</slot></td>
			<td scope="row" colspan="3"><iframe id='calc_field_frame' title='calc_field_frame' frameborder="0" marginwidth="0" marginheight="0" width='100%' height='30'></iframe></td>
			</tr>
		</tr>
		</table>
		</div>
		</td>
		</tr>	
		<tr>
		<td width="30%" scope="row"><slot>{MOD.LBL_GROUPBY_TYPE}</slot></td>	
		<td width="30%" ><slot><select id='groupby_type' name='groupby_type' onchange="toggleDisplay2('typediv', 'groupby_type', 'Time');" tabindex='2' >{GROUPBY_TYPE}</select></slot></td>
		<td width="20%" ><slot>&nbsp;</slot></td>
		<td width="20%" scope="row"><slot>&nbsp;</slot></td>
		</tr>
		
			<tr>
			<td  colspan="4"><slot>&nbsp;</slot></td>	
			</tr>
			
		
			<tr>
			<td scope="row"><slot>{MOD.LBL_GROUPBY_MODULE}</slot></td>	
			<td  colspan="3"><slot><select id='groupby_module' name='groupby_module' onchange="updatedroplist('field_frame', 'groupby_module','');" tabindex='2' >{GROUPBY_MODULE}</select></slot></td>
			</tr><tr>
			<td scope="row"><slot>{MOD.LBL_GROUPBY_FIELD}</slot></td>
			<td scope="row" colspan="3"><iframe id='field_frame' title='field_frame' frameborder="0" marginwidth="0" marginheight="0" width='100%' height='30'></iframe></td>
			</tr>
		
			<tr>
			<td  colspan="4"><slot>&nbsp;</slot></td>	
			</tr>
			
			<tr>
			<td colspan="4"><div id='typediv' style='display:none'>
			<table width="100%" border="0" cellspacing="0" cellpadding="0">
			<tr>
			<td width="30%" scope="row"><slot>{MOD.LBL_GROUPBY_QUALIFIER}</slot></td>	
			<td  colspan="3"><slot><select id='groupby_qualifier' name='groupby_qualifier' tabindex='2' >{GROUPBY_QUALIFIER}</select></slot></td>
			</tr><tr>
			<td width="30%" scope="row"><slot>{MOD.LBL_GROUPBY_QUALIFIER_QTY}</slot></td>	
			<td  colspan="3"><slot><select id='groupby_qualifier_qty' name='groupby_qualifier_qty' tabindex='2' >{GROUPBY_QUALIFIER_QTY}</select></slot></td>
			</tr><tr>
			<td width="30%" scope="row"><slot>{MOD.LBL_GROUPBY_QUALIFIER_START}</slot></td>	
			<td  colspan="3"><slot><select id='groupby_qualifier_start' name='groupby_qualifier_start'  tabindex='2' >{GROUPBY_QUALIFIER_START}</select></slot></td>
			</tr>
		</table>
		</div>
		</td>
		</tr>
		
		
		<tr>
		<td scope="row"><slot>&nbsp;</slot></td>
		<td scope="row"><slot>&nbsp;</slot></td>
		<td scope="row"><slot>&nbsp;</slot></td>
		<td scope="row" align="right"><slot><input 	title="{APP.LBL_SELECT_BUTTON_TITLE}" class="button" type="submit" name="button" value="{APP.LBL_SELECT_BUTTON_LABEL}"
					onclick='set_return("GroupBySave", this.form.groupby_module.value, this.form.groupby_calc_module.value,this.form.groupby_type.value,
					this.form.groupby_calc_type.value, this.form.groupby_axis.value, this.form.groupby_qualifier.value, this.form.groupby_qualifier_qty.value, this.form.groupby_qualifier_start.value); window.close()'>
		</slot></td>
		</tr>
		

<tr>
</form>
<td>
</td>
</tr>
	</table>
</td></tr></table>

<script>
updatedroplist('field_frame', 'groupby_module', '{GROUPBY_FIELD}');
updatedroplist('calc_field_frame', 'groupby_calc_module', '{GROUPBY_CALC_FIELD}');
toggleDisplay2('typediv', 'groupby_type', 'Time');
toggleDisplay2('calcdiv', 'groupby_axis', 'Columns');
</script>

<!-- END: main -->
